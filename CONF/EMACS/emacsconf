
;; Initial configurations. These are old...
(setq
 inhibit-startup-screen t
 create-lockfiles nil
 make-backup-files nil
 column-number-mode t
 scroll-error-top-bottom t
 show-paren-delay 0.1
 use-package-always-ensure t
 sentence-end-double-space nil)

(set-frame-font "Monaco 16")
(add-hook 'after-make-frame-functions (lambda () (set-frame-font "Monaco 16")))

;; No disturbing stuff. Who needs point and click? :P
;; (and yes, smileys are ok in configs)
(tool-bar-mode -1)
(scroll-bar-mode 0)

;; I hate trailing whitespace. And so does flake8 for python and a bunch of other
;; syntax checkers, so, I have emacs delete them before save.
(add-hook 'before-save-hook 'delete-trailing-whitespace)

;; the package manager
(require 'package)

;; Some repos. Nice to have.
(setq
 package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                    ("org" . "http://orgmode.org/elpa/")
		    ("elpy" . "https://jorgenschaefer.github.io/packages/")
                    ("melpa" . "http://melpa.org/packages/")
                    ("melpa-stable" . "http://stable.melpa.org/packages/"))
  package-archive-priorities '(("melpa-stable" . 1)))
(package-initialize)

;; Setup of use-package. We use use-package. And, if this fails, we have
;; to install use-package ourselves, and then the rest of this config
;; will run through. :)
(dolist (package '(use-package))
  (unless (package-installed-p package)
    (package-install package)))

;; A bit more interactive stuff.
(ido-mode t)

;; All the useability. Without it, were screwed...
(use-package evil
  :ensure t)
(evil-mode 1)

(use-package sublime-themes
  :ensure t)

;; A nice theme...
(use-package solarized-theme
  :ensure t)

;; Gief a user line that dont look like crap.
(use-package powerline
  :ensure t)
(powerline-center-evil-theme)
;; Choose between triangle, arrow, wave, or what ever specified in the config..
;; Me no remember really... :)
(setq powerline-default-separator 'wave)

(use-package evil-surround
  :ensure t)
(global-evil-surround-mode t)

(use-package evil-visual-mark-mode
  :ensure t)
(evil-visual-mark-mode t)

;; Some nice additions to org for us evil people.
(use-package org-evil
  :ensure t)

;; Make org look splendid. Bullets eye... and so on.
(use-package org-bullets
  :ensure t)

;; Make bibtex work a treat with stuff.
(use-package org-ref
  :ensure t)
(require 'org-ref)

;; Export stuff with bibtex and headers up to date.
(setq org-latex-pdf-process
      '("pdflatex -interaction nonstopmode -output-directory %o %f"
	"bibtex %b"
	"pdflatex -interaction nonstopmode -output-directory %o %f"
	"pdflatex -interaction nonstopmode -output-directory %o %f"))

;; Allow org to set variables inside of document. Mostly used for
;; org-ref to point out the bibtex file per project
(setq org-export-allow-bind-keywords t)

;; To keep org not disable row splitting...
(add-hook 'org-mode-hook (lambda () (toggle-truncate-lines nil)))
(add-hook 'org-mode-hook (lambda () (org-bullets-mode)))


;; The best git. Period.
(use-package magit
  :ensure t)

(use-package paredit
  :ensure t)

;; Initialize syntax checking, and also make flycheck work with c++11 standards.
(use-package flycheck
  :ensure t)
(add-hook 'c++-mode-hook
	  (lambda ()
	    (setq flycheck-clang-language-standard "c++11")))
(global-flycheck-mode)

;;Company initialization stuff
(use-package company
  :ensure t)

;; C++ syntax completion!
(use-package company-irony
  :ensure t)

;; Make symbol lookups work nice. Part 2.
(use-package rtags
  :ensure t)
(setq rtags-path "/usr/local/bin")

(use-package company-rtags
  :ensure t)

(eval-after-load 'company
  '(progn
     (add-to-list 'company-backends 'company-irony)
     (add-to-list 'company-backends 'company-rtags)))

(add-hook 'after-init-hook 'global-company-mode)
(add-hook 'c++-mode-hook 'irony-mode)




(use-package web-mode
  :ensure t)
(add-to-list 'auto-mode-alist '("\\.phtml\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.tpl\\.php\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.[agj]sp\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.as[cp]x\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.erb\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.mustache\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.djhtml\\'" . web-mode))

(setq web-mode-markup-indent-offset 2
    web-mode-css-indent-offset 2
    web-mode-code-indent-offset 2)
(setq js-indent-level 2)


;; Python development!
(use-package elpy
  :ensure t)
(setq elpy-rpc-python-command "python3")
(setq elpy-syntax-check-command "~/Library/Python/3.6/bin/flake8")
(setq python-check-command "flake8")
(elpy-enable)


(use-package yasnippet
  :ensure t)


(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(ansi-color-faces-vector
   [default default default italic underline success warning error])
 '(ansi-color-names-vector
   (vector "#ffffff" "#f36c60" "#8bc34a" "#fff59d" "#4dd0e1" "#b39ddb" "#81d4fa" "#263238"))
 '(column-number-mode t)
 '(company-auto-complete-chars (quote (32 40 46)))
 '(company-idle-delay 0.1)
 '(company-minimum-prefix-length 1)
 '(compilation-message-face (quote default))
 '(cua-global-mark-cursor-color "#2aa198")
 '(cua-normal-cursor-color "#839496")
 '(cua-overwrite-cursor-color "#b58900")
 '(cua-read-only-cursor-color "#859900")
 '(custom-enabled-themes (quote (odersky)))
 '(custom-safe-themes
   (quote
    ("96998f6f11ef9f551b427b8853d947a7857ea5a578c75aa9c4e7c73fe04d10b4" "987b709680284a5858d5fe7e4e428463a20dfabe0a6f2a6146b3b8c7c529f08b" "e0d42a58c84161a0744ceab595370cbe290949968ab62273aed6212df0ea94b4" "e9776d12e4ccb722a2a732c6e80423331bcb93f02e089ba2a4b02e85de1cf00e" "72a81c54c97b9e5efcc3ea214382615649ebb539cb4f2fe3a46cd12af72c7607" "9b59e147dbbde5e638ea1cde5ec0a358d5f269d27bd2b893a0947c4a867e14c1" "3d5ef3d7ed58c9ad321f05360ad8a6b24585b9c49abcee67bdcbb0fe583a6950" "58c6711a3b568437bab07a30385d34aacf64156cc5137ea20e799984f4227265" "3cc2385c39257fed66238921602d8104d8fd6266ad88a006d0a4325336f5ee02" "b3775ba758e7d31f3bb849e7c9e48ff60929a792961a2d536edec8f68c671ca5" "3cd28471e80be3bd2657ca3f03fbb2884ab669662271794360866ab60b6cb6e6" "c48551a5fb7b9fc019bf3f61ebf14cf7c9cdca79bcb2a4219195371c02268f11" "dcf7154867ba67b250fe2c5cdc15a7d170acd9cbe6707cc36d9dd1462282224d" "b97a01622103266c1a26a032567e02d920b2c697ff69d40b7d9956821ab666cc" "d677ef584c6dfc0697901a44b885cc18e206f05114c8a3b7fde674fce6180879" "732b807b0543855541743429c9979ebfb363e27ec91e82f463c91e68c772f6e3" "a24c5b3c12d147da6cef80938dca1223b7c7f70f2f382b26308eba014dc4833a" "bfdcbf0d33f3376a956707e746d10f3ef2d8d9caa1c214361c9c08f00a1c8409" "a19265ef7ecc16ac4579abb1635fd4e3e1185dcacbc01b7a43cf7ad107c27ced" "b9a06c75084a7744b8a38cb48bc987de10d68f0317697ccbd894b2d0aca06d2b" "a8245b7cc985a0610d71f9852e9f2767ad1b852c2bdea6f4aadc12cce9c4d6d0" "8aebf25556399b58091e533e455dd50a6a9cba958cc4ebb0aab175863c25b9a4" default)))
 '(fci-rule-color "#073642")
 '(highlight-changes-colors (quote ("#d33682" "#6c71c4")))
 '(highlight-symbol-colors
   (--map
    (solarized-color-blend it "#002b36" 0.25)
    (quote
     ("#b58900" "#2aa198" "#dc322f" "#6c71c4" "#859900" "#cb4b16" "#268bd2"))))
 '(highlight-symbol-foreground-color "#93a1a1")
 '(highlight-tail-colors
   (quote
    (("#073642" . 0)
     ("#546E00" . 20)
     ("#00736F" . 30)
     ("#00629D" . 50)
     ("#7B6000" . 60)
     ("#8B2C02" . 70)
     ("#93115C" . 85)
     ("#073642" . 100))))
 '(hl-bg-colors
   (quote
    ("#7B6000" "#8B2C02" "#990A1B" "#93115C" "#3F4D91" "#00629D" "#00736F" "#546E00")))
 '(hl-fg-colors
   (quote
    ("#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36")))
 '(hl-sexp-background-color "#1c1f26")
 '(linum-format " %7i ")
 '(magit-diff-use-overlays nil)
 '(nrepl-message-colors
   (quote
    ("#CC9393" "#DFAF8F" "#F0DFAF" "#7F9F7F" "#BFEBBF" "#93E0E3" "#94BFF3" "#DC8CC3")))
 '(package-selected-packages
   (quote
    (wc-mode org-wc opencl-mode sublime-themes company-rtags dracula-theme org-bullets org-beautify-theme web-mode material-theme zenburn-theme moe-theme use-package evil)))
 '(pdf-view-midnight-colors (quote ("#DCDCCC" . "#383838")))
 '(pos-tip-background-color "#073642")
 '(pos-tip-foreground-color "#93a1a1")
 '(smartrep-mode-line-active-bg (solarized-color-blend "#859900" "#073642" 0.2))
 '(term-default-bg-color "#002b36")
 '(term-default-fg-color "#839496")
 '(tool-bar-mode nil)
 '(vc-annotate-background nil)
 '(vc-annotate-color-map
   (quote
    ((20 . "#dc322f")
     (40 . "#c85d17")
     (60 . "#be730b")
     (80 . "#b58900")
     (100 . "#a58e00")
     (120 . "#9d9100")
     (140 . "#959300")
     (160 . "#8d9600")
     (180 . "#859900")
     (200 . "#669b32")
     (220 . "#579d4c")
     (240 . "#489e65")
     (260 . "#399f7e")
     (280 . "#2aa198")
     (300 . "#2898af")
     (320 . "#2793ba")
     (340 . "#268fc6")
     (360 . "#268bd2"))))
 '(vc-annotate-very-old-color nil)
 '(weechat-color-list
   (quote
    (unspecified "#002b36" "#073642" "#990A1B" "#dc322f" "#546E00" "#859900" "#7B6000" "#b58900" "#00629D" "#268bd2" "#93115C" "#d33682" "#00736F" "#2aa198" "#839496" "#657b83"))))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )

;;;
